–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –°–æ–∑–¥–∞–º –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è **ESYBOT** –≤ –æ–¥–Ω–æ–º HTML —Ñ–∞–π–ª–µ –≤ —Å—Ç–∏–ª–µ ALT KDE Wiki —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤:

```html



    
    
    ESYBOT Documentation
    
    ü§ñ">
    
    
    
    
    
    
        :root {
            --primary-color: #3b82f6;
            --primary-dark: #1e40af;
            --background: #0f172a;
            --surface: #1e293b;
            --surface-light: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border: #475569;
            --accent: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --sidebar-width: 280px;
            --header-height: 64px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 1rem;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo-icon {
            font-size: 2rem;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .search-box {
            position: relative;
        }

        .search-input {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            color: var(--text-primary);
            width: 300px;
            font-size: 0.875rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }

        .lang-switcher {
            display: flex;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .lang-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .lang-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .lang-btn:hover:not(.active) {
            background: var(--surface-light);
            color: var(--text-primary);
        }

        /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: var(--surface);
            border-right: 1px solid var(--border);
            overflow-y: auto;
            z-index: 999;
            transform: translateX(0);
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .nav-section {
            padding: 1.5rem 0 0.5rem 0;
        }

        .nav-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
        }

        .nav-item {
            display: block;
            padding: 0.75rem 1.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s;
            cursor: pointer;
        }

        .nav-item:hover {
            background: var(--surface-light);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main {
            margin-left: var(--sidebar-width);
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
            transition: margin-left 0.3s ease;
        }

        .main.expanded {
            margin-left: 0;
        }

        .content {
            max-width: 900px;
            padding: 2rem;
            margin: 0 auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
        h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        h2 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border);
        }

        h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 1.5rem 0 0.75rem 0;
        }

        h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 1rem 0 0.5rem 0;
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .lead {
            font-size: 1.125rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        /* –ö–æ–¥ */
        pre {
            background: var(--background) !important;
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-size: 0.875rem;
        }

        code {
            background: var(--surface-light);
            color: var(--accent);
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.2s;
        }

        .feature-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .feature-description {
            color: var(--text-secondary);
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            text-decoration: none;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--surface-light);
        }

        /* –ê–ª–µ—Ä—Ç—ã */
        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            border-left: 4px solid;
        }

        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: var(--primary-color);
            color: var(--text-primary);
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-left-color: var(--warning);
            color: var(--text-primary);
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: var(--accent);
            color: var(--text-primary);
        }

        /* –¢–∞–±–ª–∏—Ü—ã */
        .table-container {
            overflow-x: auto;
            margin: 1rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--surface);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--surface-light);
            font-weight: 600;
            color: var(--text-primary);
        }

        td {
            color: var(--text-secondary);
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main {
                margin-left: 0;
            }

            .search-input {
                width: 200px;
            }

            .content {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page.active {
            animation: fadeIn 0.3s ease;
        }

        /* –°–∫—Ä–æ–ª–ª */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--surface-light);
        }

        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞ –¥–ª—è ESYBOT */
        .language-esybot {
            color: var(--text-primary);
        }

        .language-esybot .hljs-keyword {
            color: #ff79c6;
        }

        .language-esybot .hljs-string {
            color: #f1fa8c;
        }

        .language-esybot .hljs-comment {
            color: var(--text-muted);
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1));
            border-radius: 1rem;
            margin-bottom: 3rem;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-color), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .hero-description {
            font-size: 1.125rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 2rem auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .command-table {
            margin: 1.5rem 0;
        }

        .command-row {
            border-bottom: 1px solid var(--border);
        }

        .command-name {
            font-weight: 600;
            color: var(--accent);
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        .example-container {
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--surface-light);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            border-radius: 0.25rem;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: var(--border);
            color: var(--text-primary);
        }
    


    
    
        
            ‚ò∞
            
                ü§ñ
                ESYBOT
            
            
                
                    
                
                
                    RU
                    EN
                
            
        
    

    
    
        
            –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
            –ì–ª–∞–≤–Ω–∞—è
            –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
        
        
            –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
            –°–∏–Ω—Ç–∞–∫—Å–∏—Å
            –ö–æ–º–∞–Ω–¥—ã
            Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
            –ü—Ä–∏–º–µ—Ä—ã
        
        
            –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫
            API
        
    

    
    
        
            
            
                
                    ESYBOT
                    –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π —è–∑—ã–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤
                    
                        ESYBOT —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ—â–Ω—ã—Ö Telegram –±–æ—Ç–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Python, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π aiogram –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º.
                    
                    
                        üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
                        üìö –ü—Ä–∏–º–µ—Ä—ã
                    
                

                –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ESYBOT
                
                    
                        üéØ
                        –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
                        
                            –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ –±–µ–∑ –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ API
                        
                    
                    
                        üêç
                        Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
                        
                            –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Python –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ ESYBOT —Å –æ–±–º–µ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
                        
                    
                    
                        ‚ö°
                        –ü–æ–¥–¥–µ—Ä–∂–∫–∞ aiogram
                        
                            –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ aiogram 3.x –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏
                        
                    
                    
                        üîß
                        –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
                        
                            –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
                        
                    
                

                –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä
                –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç –Ω–∞ ESYBOT
bot_token "YOUR_BOT_TOKEN"

# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
on_start {
    send "ü§ñ –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é ESYBOT!"
}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –ø–æ–º–æ—â–∏
on_command help {
    reply "–Ø —É–º–µ—é –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã!"
}

# Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
on_message "–ø—Ä–∏–≤–µ—Ç" {
    python {
        import random
        greetings = ["–ü—Ä–∏–≤–µ—Ç!", "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π!", "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"]
        greeting = random.choice(greetings)
        esybot_set('random_greeting', greeting)
    }
    reply $random_greeting
}
                
            

            
            
                –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å ESYBOT
                
                    –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ ESYBOT –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ Telegram –±–æ—Ç–∞.
                

                –£—Å—Ç–∞–Ω–æ–≤–∫–∞
                
                –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
                
                    Python 3.8 –∏–ª–∏ –≤—ã—à–µ
                    pip (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python)
                    –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ –æ—Ç @BotFather
                

                –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv esybot-env

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
# Windows:
esybot-env\Scripts\activate
# Linux/Mac:
source esybot-env/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install aiogram psutil
                

                –°–∫–∞—á–∏–≤–∞–Ω–∏–µ ESYBOT
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-username/esybot.git
cd esybot

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–∞–ø—Ä—è–º—É—é
wget https://raw.githubusercontent.com/your-username/esybot/main/esybot_interpreter.py
                

                –ü–µ—Ä–≤—ã–π –±–æ—Ç

                
                    üí° –°–æ–≤–µ—Ç: –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —É @BotFather –≤ Telegram.
                

                1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –±–æ—Ç–∞
                –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª my_first_bot.esi:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ú–æ–π –ø–µ—Ä–≤—ã–π ESYBOT –±–æ—Ç
bot_token "–ó–ê–ú–ï–ù–ò–¢–ï_–ù–ê_–í–ê–®_–¢–û–ö–ï–ù"
bot_name "MyFirstBot"

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
set welcome_message "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–æ–π –ø–µ—Ä–≤—ã–π –±–æ—Ç!"
set user_count 0

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
menu main_menu {
    button "‚ÑπÔ∏è –û –±–æ—Ç–µ" about_callback
    button "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" stats_callback
    button "üé≤ –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ" random_callback
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
on_start {
    increment user_count
    send $welcome_message
    send "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:" keyboard=main_menu
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–û –±–æ—Ç–µ"
on_callback about_callback {
    edit "ü§ñ –Ø —Å–æ–∑–¥–∞–Ω —Å –ø–æ–º–æ—â—å—é ESYBOT!\n\nESYBOT - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —è–∑—ã–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤."
    answer_callback "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∞!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
on_callback stats_callback {
    edit "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:\n\nüë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: $user_count"
    answer_callback "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ"
on_callback random_callback {
    python {
        import random
        random_num = random.randint(1, 100)
        esybot_set('random_number', random_num)
    }
    edit "üé≤ –í–∞—à–µ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ: $random_number"
    answer_callback "–ù–æ–≤–æ–µ —á–∏—Å–ª–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ!"
}
                

                2. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
python esybot_interpreter.py my_first_bot.esi
                

                
                    üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à –ø–µ—Ä–≤—ã–π ESYBOT –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /start.
                

                –ß—Ç–æ –¥–∞–ª—å—à–µ?
                
                    –ò–∑—É—á–∏—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å ESYBOT
                    –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤
                    –ò–∑—É—á–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Python
                    –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å–æ –≤—Å–µ–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
                
            

            
            
                –°–∏–Ω—Ç–∞–∫—Å–∏—Å ESYBOT
                
                    –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —è–∑—ã–∫–∞ ESYBOT —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
                

                –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                –§–∞–π–ª ESYBOT —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–æ–º–∞–Ω–¥, –±–ª–æ–∫–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π - –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
bot_token "YOUR_TOKEN"
bot_name "MyBot"

# –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
set variable_name "–∑–Ω–∞—á–µ–Ω–∏–µ"

# –ö–æ–º–∞–Ω–¥–∞ —Å –±–ª–æ–∫–æ–º
on_start {
    send "–ü—Ä–∏–≤–µ—Ç!"
    reply "–ö–∞–∫ –¥–µ–ª–∞?"
}
                

                –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                ESYBOT –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å # –∏–ª–∏ //:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –≠—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
// –≠—Ç–æ —Ç–æ–∂–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

on_start {
    send "–ü—Ä–∏–≤–µ—Ç!" # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏
    // reply "–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞"
}
                

                –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π set –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º $:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
set bot_name "–ú–æ–π–ë–æ—Ç"
set user_count 0
set is_active true
set price 19.99

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
on_start {
    send "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ $bot_name!"
    send "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: $user_count"
}

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
on_command stats {
    increment user_count
    send "–ù–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: $user_count"
}
                

                –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
                
                    
                        
                            
                                –¢–∏–ø
                                –ü—Ä–∏–º–µ—Ä
                                –û–ø–∏—Å–∞–Ω–∏–µ
                            
                        
                        
                            
                                –°—Ç—Ä–æ–∫–∞
                                "–ü—Ä–∏–≤–µ—Ç –º–∏—Ä"
                                –¢–µ–∫—Å—Ç –≤ –∫–∞–≤—ã—á–∫–∞—Ö
                            
                            
                                –ß–∏—Å–ª–æ
                                42
                                –¶–µ–ª–æ–µ —á–∏—Å–ª–æ
                            
                            
                                –î—Ä–æ–±—å
                                3.14
                                –ß–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
                            
                            
                                –ë—É–ª–µ–≤–æ
                                true / false
                                –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
                            
                            
                                –ú–∞—Å—Å–∏–≤
                                [1, 2, 3]
                                –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π
                            
                        
                    
                

                –ë–ª–æ–∫–∏ –∫–æ–¥–∞
                –ë–ª–æ–∫–∏ –∫–æ–¥–∞ –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ {}:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ü—Ä–æ—Å—Ç–æ–π –±–ª–æ–∫
on_start {
    send "–û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞"
}

# –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –±–ª–æ–∫
on_command help {
    send "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ø—Ä–∞–≤–∫—É!"
    send "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:"
    send "‚Ä¢ /start - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞"
    send "‚Ä¢ /help - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞"
    
    python {
        # Python –∫–æ–¥ —Ç–æ–∂–µ –≤ –±–ª–æ–∫–∞—Ö
        print("–°–ø—Ä–∞–≤–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é")
    }
}
                

                –£—Å–ª–æ–≤–∏—è
                ESYBOT –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    set admin_id 123456789

on_command admin {
    if $user_id == $admin_id {
        send "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä!"
    }
    
    if $user_id != $admin_id {
        send "–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"
    }
}
                

                –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
                
                    
                        
                            
                                –û–ø–µ—Ä–∞—Ç–æ—Ä
                                –û–ø–∏—Å–∞–Ω–∏–µ
                                –ü—Ä–∏–º–µ—Ä
                            
                        
                        
                            
                                ==
                                –†–∞–≤–Ω–æ
                                if $count == 5
                            
                            
                                !=
                                –ù–µ —Ä–∞–≤–Ω–æ
                                if $name != "admin"
                            
                            
                                &gt;
                                –ë–æ–ª—å—à–µ
                                if $age > 18
                            
                            
                                &lt;
                                –ú–µ–Ω—å—à–µ
                                if $price 
                            
                            
                                contains
                                –°–æ–¥–µ—Ä–∂–∏—Ç
                                if $text contains "–ø—Ä–∏–≤–µ—Ç"
                            
                        
                    
                

                –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è Telegram:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
on_start {
    send "–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
on_command weather {
    send "–°–µ–≥–æ–¥–Ω—è —Å–æ–ª–Ω–µ—á–Ω–æ!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
on_message "–ø—Ä–∏–≤–µ—Ç" {
    reply "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º
on_message "/–ø—Ä–∏–≤–µ—Ç.*/" {
    reply "–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
on_photo {
    reply "–ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ç–æ!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback –∫–Ω–æ–ø–æ–∫
on_callback button_data {
    edit "–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!"
    answer_callback "–ì–æ—Ç–æ–≤–æ!"
}
                

                
                    üí° –°–æ–≤–µ—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö, –∑–∞–∫–ª—é—á–∞—è –∏—Ö –≤ /pattern/ –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
                
            

            
            
                –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
                
                    –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ ESYBOT —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
                

                ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
                
                    
                        
                            
                                –ö–æ–º–∞–Ω–¥–∞
                                –û–ø–∏—Å–∞–Ω–∏–µ
                                –ü—Ä–∏–º–µ—Ä
                            
                        
                        
                            
                                bot_token
                                –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
                                bot_token "YOUR_TOKEN"
                            
                            
                                bot_name
                                –ò–º—è –±–æ—Ç–∞
                                bot_name "MyBot"
                            
                            
                                bot_description
                                –û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞
                                bot_description "–ú–æ–π –ø–µ—Ä–≤—ã–π –±–æ—Ç"
                            
                            
                                bot_commands
                                –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –¥–ª—è –º–µ–Ω—é
                                –°–º. –ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ
                            
                        
                    
                

                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
bot_commands {
    start "–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞"
    help "–ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É"
    settings "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
    about "–û –±–æ—Ç–µ"
}
                

                üéØ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                
                    
                        
                            
                                –û–±—Ä–∞–±–æ—Ç—á–∏–∫
                                –°–æ–±—ã—Ç–∏–µ
                                –ü—Ä–∏–º–µ—Ä
                            
                        
                        
                            
                                on_start
                                –ö–æ–º–∞–Ω–¥–∞ /start
                                on_start { send "–ü—Ä–∏–≤–µ—Ç!" }
                            
                            
                                on_command
                                –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
                                on_command help { ... }
                            
                            
                                on_message
                                –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                                on_message "–ø—Ä–∏–≤–µ—Ç" { ... }
                            
                            
                                on_callback
                                –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
                                on_callback btn_data { ... }
                            
                            
                                on_photo
                                –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ
                                on_photo { reply "–§–æ—Ç–æ –ø–æ–ª—É—á–µ–Ω–æ!" }
                            
                            
                                on_video
                                –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ
                                on_video { reply "–í–∏–¥–µ–æ –ø–æ–ª—É—á–µ–Ω–æ!" }
                            
                            
                                on_document
                                –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
                                on_document { reply "–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª—É—á–µ–Ω!" }
                            
                            
                                on_voice
                                –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                                on_voice { reply "–ì–æ–ª–æ—Å –ø–æ–ª—É—á–µ–Ω!" }
                            
                            
                                on_location
                                –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                                on_location { reply "–õ–æ–∫–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞!" }
                            
                            
                                on_contact
                                –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞
                                on_contact { reply "–ö–æ–Ω—Ç–∞–∫—Ç –ø–æ–ª—É—á–µ–Ω!" }
                            
                        
                    
                

                üí¨ –û—Ç–≤–µ—Ç—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è
                
                    
                        
                            
                                –ö–æ–º–∞–Ω–¥–∞
                                –û–ø–∏—Å–∞–Ω–∏–µ
                                –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
                            
                        
                        
                            
                                send
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                                keyboard, parse_mode
                            
                            
                                reply
                                –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
                                keyboard, parse_mode
                            
                            
                                edit
                                –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                                keyboard, parse_mode
                            
                            
                                delete
                                –£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                                –ù–µ—Ç
                            
                            
                                send_photo
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                                caption, keyboard
                            
                            
                                send_video
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ
                                caption, keyboard
                            
                            
                                send_document
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
                                caption, keyboard
                            
                            
                                answer_callback
                                –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ callback
                                alert
                            
                        
                    
                

                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –æ—Ç–≤–µ—Ç–∞
on_start {
    send "–ü—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
    send "–°–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π" keyboard=main_menu
    send "**–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç**" parse_mode="Markdown"
}

on_photo {
    reply "–ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ç–æ!" 
    send_photo "path/to/photo.jpg" caption="–ú–æ—ë —Ñ–æ—Ç–æ"
}

on_callback help_btn {
    edit "–¢–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∫–∏"
    answer_callback "–°–ø—Ä–∞–≤–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∞!" alert=false
}
                

                ‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –º–µ–Ω—é
                
                Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –°–æ–∑–¥–∞–Ω–∏–µ inline –º–µ–Ω—é
menu main_menu {
    button "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" info_callback
    button "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏" settings_callback
    button "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" stats_callback new_row=true
    button "üåê –°–∞–π—Ç" site_btn url="https://example.com"
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é
on_start {
    send "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:" keyboard=main_menu
}
                

                Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –°–æ–∑–¥–∞–Ω–∏–µ reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
keyboard reply_kb {
    button "üè† –ì–ª–∞–≤–Ω–∞—è"
    button "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã"
    button "‚ùì –ü–æ–º–æ—â—å" new_row=true
}

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
remove_keyboard hide_kb
                

                üìä –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                
                    
                        
                            
                                –ö–æ–º–∞–Ω–¥–∞
                                –û–ø–∏—Å–∞–Ω–∏–µ
                                –ü—Ä–∏–º–µ—Ä
                            
                        
                        
                            
                                set
                                –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
                                set name "–ó–Ω–∞—á–µ–Ω–∏–µ"
                            
                            
                                get
                                –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
                                get name
                            
                            
                                increment
                                –£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ 1
                                increment counter
                            
                            
                                decrement
                                –£–º–µ–Ω—å—à–∏—Ç—å –Ω–∞ 1
                                decrement counter
                            
                        
                    
                

                –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                ESYBOT –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:
                
                    
                        
                            
                                –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
                                –û–ø–∏—Å–∞–Ω–∏–µ
                                –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
                            
                        
                        
                            
                                $user_id
                                ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                send "–í–∞—à ID: $user_id"
                            
                            
                                $chat_id
                                ID —á–∞—Ç–∞
                                send "ID —á–∞—Ç–∞: $chat_id"
                            
                            
                                $text
                                –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
                                send "–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏: $text"
                            
                            
                                $first_name
                                –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                send "–ü—Ä–∏–≤–µ—Ç, $first_name!"
                            
                            
                                $username
                                Username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                send "–í–∞—à username: $username"
                            
                        
                    
                

                üîÑ –°–æ—Å—Ç–æ—è–Ω–∏—è (FSM)
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –†–∞–±–æ—Ç–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
on_command register {
    send "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:"
    set_state waiting_name
}

on_message {
    if $state == "waiting_name" {
        set user_name $text
        send "–¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç:"
        set_state waiting_age
    }
    
    if $state == "waiting_age" {
        set user_age $text
        send "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\n–ò–º—è: $user_name\n–í–æ–∑—Ä–∞—Å—Ç: $user_age"
        clear_state
    }
}
                

                
                    ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –°–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–∞—Ö —Å –±–æ—Ç–æ–º. –í –≥—Ä—É–ø–ø–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã.
                
            

            
            
                Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
                
                    –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Python –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ ESYBOT —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ—â–Ω—ã—Ö –∏ –≥–∏–±–∫–∏—Ö –±–æ—Ç–æ–≤.
                

                üêç –û—Å–Ω–æ–≤—ã Python –±–ª–æ–∫–æ–≤
                Python –∫–æ–¥ –≤ ESYBOT –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –±–ª–æ–∫–∏ python { }:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ü—Ä–æ—Å—Ç–æ–π Python –±–ª–æ–∫
on_start {
    python {
        print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
        import datetime
        current_time = datetime.datetime.now().strftime("%H:%M:%S")
        print(f"–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: {current_time}")
    }
    
    send "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"
}
                

                üîÑ –û–±–º–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
                Python –∫–æ–¥ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ESYBOT:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ ESYBOT
set user_count 0
set bot_name "MyBot"

on_start {
    increment user_count
    
    python {
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ESYBOT
        count = esybot_get('user_count')
        name = esybot_get('bot_name')
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Python
        if count == 1:
            welcome_msg = f"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ {name}! –í—ã –ø–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!"
        else:
            welcome_msg = f"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ {name}! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å #{count}"
        
        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
        esybot_set('welcome_message', welcome_msg)
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        print(f"–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å #{count}")
    }
    
    send $welcome_message
}
                

                –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
                
                    
                        
                            
                                –§—É–Ω–∫—Ü–∏—è
                                –û–ø–∏—Å–∞–Ω–∏–µ
                                –ü—Ä–∏–º–µ—Ä
                            
                        
                        
                            
                                esybot_get(name)
                                –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
                                value = esybot_get('count')
                            
                            
                                esybot_set(name, value)
                                –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
                                esybot_set('result', 42)
                            
                            
                                esybot_vars
                                –°–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
                                all_vars = esybot_vars
                            
                        
                    
                

                üìß –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
                –í Python –±–ª–æ–∫–∞—Ö –¥–æ—Å—Ç—É–ø–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    on_message {
    python {
        # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è
        user_id = locals().get('user_id')
        chat_id = locals().get('chat_id') 
        message_text = locals().get('text', '')
        
        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        update = locals().get('update')
        if update and hasattr(update, 'from_user'):
            user = update.from_user
            first_name = user.first_name
            username = user.username
            
            # –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
            if username:
                greeting = f"–ü—Ä–∏–≤–µ—Ç, @{username} ({first_name})!"
            else:
                greeting = f"–ü—Ä–∏–≤–µ—Ç, {first_name}!"
            
            esybot_set('personal_greeting', greeting)
        
        # –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        word_count = len(message_text.split())
        esybot_set('word_count', word_count)
    }
    
    reply $personal_greeting
    if $word_count > 5 {
        send "–û–≥–æ, –º–Ω–æ–≥–æ —Å–ª–æ–≤! –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: $word_count"
    }
}
                

                üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
                
                –†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    on_command weather {
    python {
        import requests
        import json
        
        # –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ API –ø–æ–≥–æ–¥—ã
        city = "Moscow"
        api_key = "YOUR_API_KEY"
        url = f"http://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}&units=metric&lang=ru"
        
        try:
            response = requests.get(url)
            data = response.json()
            
            if response.status_code == 200:
                temp = data['main']['temp']
                description = data['weather'][0]['description']
                weather_info = f"üå§Ô∏è –ü–æ–≥–æ–¥–∞ –≤ {city}:\nüå°Ô∏è {temp}¬∞C\n‚òÅÔ∏è {description.capitalize()}"
            else:
                weather_info = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ"
                
        except Exception as e:
            weather_info = f"‚ùå –û—à–∏–±–∫–∞: {str(e)}"
        
        esybot_set('weather_result', weather_info)
    }
    
    send $weather_result
}
                

                –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    on_command save_data {
    python {
        import sqlite3
        import os
        
        # –°–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        db_path = "bot_data.db"
        conn = sqlite3.connect(db_path)
        cursor = conn.cursor()
        
        # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS users (
                user_id INTEGER PRIMARY KEY,
                username TEXT,
                first_name TEXT,
                message_count INTEGER DEFAULT 0
            )
        ''')
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_id = locals().get('user_id')
        update = locals().get('update')
        
        if update and hasattr(update, 'from_user'):
            user = update.from_user
            username = user.username
            first_name = user.first_name
            
            # –í—Å—Ç–∞–≤–∫–∞ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            cursor.execute('''
                INSERT OR REPLACE INTO users (user_id, username, first_name, message_count)
                VALUES (?, ?, ?, COALESCE((SELECT message_count FROM users WHERE user_id = ?) + 1, 1))
            ''', (user_id, username, first_name, user_id))
            
            # –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
            cursor.execute('SELECT message_count FROM users WHERE user_id = ?', (user_id,))
            count = cursor.fetchone()[0]
            
            esybot_set('user_message_count', count)
        
        conn.commit()
        conn.close()
    }
    
    send "‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Ññ$user_message_count"
}
                

                –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    on_command chart {
    python {
        import matplotlib.pyplot as plt
        import io
        import base64
        from datetime import datetime, timedelta
        import random
        
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
        dates = [datetime.now() - timedelta(days=i) for i in range(7, 0, -1)]
        values = [random.randint(10, 100) for _ in range(7)]
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
        plt.figure(figsize=(10, 6))
        plt.plot(dates, values, marker='o', linewidth=2, markersize=8)
        plt.title('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é', fontsize=16, fontweight='bold')
        plt.xlabel('–î–∞—Ç–∞')
        plt.ylabel('–ó–Ω–∞—á–µ–Ω–∏—è')
        plt.grid(True, alpha=0.3)
        plt.tight_layout()
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç—å
        buffer = io.BytesIO()
        plt.savefig(buffer, format='png', dpi=300, bbox_inches='tight')
        buffer.seek(0)
        
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
        with open('chart.png', 'wb') as f:
            f.write(buffer.getvalue())
        
        plt.close()
        
        esybot_set('chart_ready', True)
    }
    
    if $chart_ready == true {
        send_photo "chart.png" caption="üìä –í–∞—à –≥—Ä–∞—Ñ–∏–∫ –≥–æ—Ç–æ–≤!"
    }
}
                

                ‚úÖ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
                
                
                    üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Python –≤ ESYBOT:
                    
                        –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-except –±–ª–æ–∫–∏
                        –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ò–∑–±–µ–≥–∞–π—Ç–µ —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
                        –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
                        –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ print() –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                        –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ESYBOT
                    
                

                –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –±–æ—Ç–∞
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –±–æ—Ç —Å Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
bot_token "YOUR_TOKEN"

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
python {
    import json
    import sqlite3
    import requests
    from datetime import datetime
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    conn = sqlite3.connect('bot.db')
    cursor = conn.cursor()
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS analytics (
            date TEXT,
            users_count INTEGER,
            messages_count INTEGER
        )
    ''')
    conn.commit()
    conn.close()
    
    esybot_set('bot_start_time', datetime.now().isoformat())
    print("ü§ñ –ë–æ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π")
}

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
menu main_menu {
    button "üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞" analytics_btn
    button "üå§Ô∏è –ü–æ–≥–æ–¥–∞" weather_btn
    button "üé≤ –ò–≥—Ä–∞" game_btn new_row=true
}

on_start {
    python {
        # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        user_id = locals().get('user_id')
        
        # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
        conn = sqlite3.connect('bot.db')
        cursor = conn.cursor()
        
        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        cursor.execute('''
            INSERT OR IGNORE INTO users (user_id, first_visit)
            VALUES (?, ?)
        ''', (user_id, datetime.now().isoformat()))
        
        conn.commit()
        conn.close()
        
        esybot_set('user_greeted', True)
    }
    
    send "ü§ñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —É–º–Ω—ã–π –±–æ—Ç!" keyboard=main_menu
}

on_callback analytics_btn {
    python {
        # –°–±–æ—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
        conn = sqlite3.connect('bot.db')
        cursor = conn.cursor()
        
        # –ü–æ–¥—Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        cursor.execute('SELECT COUNT(*) FROM users')
        users_count = cursor.fetchone()[0]
        
        # –ü–æ–¥—Å—á—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        today = datetime.now().strftime('%Y-%m-%d')
        cursor.execute('SELECT COUNT(*) FROM messages WHERE date = ?', (today,))
        messages_today = cursor.fetchone()[0]
        
        conn.close()
        
        # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞
        analytics_report = f"""
üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –±–æ—Ç–∞**

üë• –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {users_count}
üí¨ –°–æ–æ–±—â–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è: {messages_today}
üïê –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: —Å {esybot_get('bot_start_time')}

_–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏_
        """
        
        esybot_set('analytics_text', analytics_report.strip())
    }
    
    edit $analytics_text parse_mode="Markdown"
    answer_callback "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!"
}
                

                
                    üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python –≤ ESYBOT –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ—â–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤!
                
            

            
            
                –ü—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤
                
                    –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤ –Ω–∞ ESYBOT –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á - –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
                

                ü§ñ –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç
                –ë–∞–∑–æ–≤—ã–π –±–æ—Ç —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º, –º–µ–Ω—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫–æ–º–∞–Ω–¥:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ü—Ä–æ—Å—Ç–æ–π –±–æ—Ç –Ω–∞ ESYBOT
bot_token "YOUR_BOT_TOKEN"
bot_name "SimpleBot"

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
set welcome_text "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–æ—Å—Ç–æ–π –±–æ—Ç!"
set user_count 0

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
menu main_menu {
    button "‚ÑπÔ∏è –û –±–æ—Ç–µ" about_btn
    button "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" stats_btn
    button "üé≤ –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ" random_btn
}

# –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
bot_commands {
    start "–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞"
    help "–ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É"
    about "–û –±–æ—Ç–µ"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
on_start {
    increment user_count
    send $welcome_text
    send "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é:" keyboard=main_menu
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help
on_command help {
    send """
üìö **–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É**

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
‚Ä¢ /start - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚Ä¢ /help - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
‚Ä¢ /about - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ

**–ö–Ω–æ–ø–∫–∏:**
‚Ä¢ ‚ÑπÔ∏è –û –±–æ—Ç–µ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚Ä¢ üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚Ä¢ üé≤ –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —á–∏—Å–µ–ª
    """ parse_mode="Markdown"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–û –±–æ—Ç–µ"
on_callback about_btn {
    edit """
ü§ñ **–û –±–æ—Ç–µ**

–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω —Å –ø–æ–º–æ—â—å—é ESYBOT - —É–ø—Ä–æ—â—ë–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Telegram –±–æ—Ç–æ–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
‚Ä¢ –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
‚Ä¢ Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ aiogram 3.x
‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

_–í–µ—Ä—Å–∏—è: 1.0_
    """ parse_mode="Markdown"
    answer_callback "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∞!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
on_callback stats_btn {
    edit "üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞**\n\nüë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: $user_count" parse_mode="Markdown"
    answer_callback "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!"
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ"
on_callback random_btn {
    python {
        import random
        number = random.randint(1, 100)
        esybot_set('random_number', number)
    }
    edit "üé≤ **–°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ**: $random_number" parse_mode="Markdown"
    answer_callback "–ù–æ–≤–æ–µ —á–∏—Å–ª–æ!"
}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
on_message "–ø—Ä–∏–≤–µ—Ç" {
    reply "üëã –ü—Ä–∏–≤–µ—Ç! –†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å!"
}

on_message "–ø–æ–∫–∞" {
    reply "üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –µ—â—ë!"
}
                

                üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç
                –ë–æ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –≤–Ω–µ—à–Ω–∏–º–∏ API:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
bot_token "YOUR_BOT_TOKEN"
bot_name "AdvancedBot"
bot_description "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π"

# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –º–µ–Ω—é –±–æ—Ç–∞
bot_commands {
    start "–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞"
    profile "–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å"  
    weather "–ü–æ–≥–æ–¥–∞"
    news "–ù–æ–≤–æ—Å—Ç–∏"
    stats "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
    admin "–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"
}

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
set admin_id 123456789
set bot_version "2.0"
set weather_api_key "YOUR_WEATHER_API_KEY"

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python {
    import sqlite3
    import json
    import requests
    from datetime import datetime, timedelta
    import hashlib
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
    conn = sqlite3.connect('advanced_bot.db')
    cursor = conn.cursor()
    
    # –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS users (
            user_id INTEGER PRIMARY KEY,
            username TEXT,
            first_name TEXT,
            registration_date TEXT,
            message_count INTEGER DEFAULT 0,
            last_activity TEXT
        )
    ''')
    
    # –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS messages (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER,
            message_text TEXT,
            timestamp TEXT,
            FOREIGN KEY (user_id) REFERENCES users (user_id)
        )
    ''')
    
    conn.commit()
    conn.close()
    
    esybot_set('db_initialized', True)
    print("üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞")
}

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
menu main_menu {
    button "üë§ –ü—Ä–æ—Ñ–∏–ª—å" profile_btn
    button "üå§Ô∏è –ü–æ–≥–æ–¥–∞" weather_btn  
    button "üì∞ –ù–æ–≤–æ—Å—Ç–∏" news_btn new_row=true
    button "üéÆ –ò–≥—Ä—ã" games_btn
    button "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏" settings_btn
}

# –ú–µ–Ω—é –∏–≥—Ä
menu games_menu {
    button "üé≤ –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ" guess_game_btn
    button "üéØ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞" quiz_btn
    button "üé™ –®—É—Ç–∫–∞ –¥–Ω—è" joke_btn new_row=true
    button "‚óÄÔ∏è –ù–∞–∑–∞–¥" back_to_main_btn
}

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ç–∞—Ä—Ç–∞ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
on_start {
    python {
        user_id = locals().get('user_id')
        update = locals().get('update')
        
        if update and hasattr(update, 'from_user'):
            user = update.from_user
            username = user.username
            first_name = user.first_name
            now = datetime.now().isoformat()
            
            # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            conn = sqlite3.connect('advanced_bot.db')
            cursor = conn.cursor()
            
            cursor.execute('''
                INSERT OR REPLACE INTO users 
                (user_id, username, first_name, registration_date, last_activity)
                VALUES (?, ?, ?, 
                    COALESCE((SELECT registration_date FROM users WHERE user_id = ?), ?),
                    ?)
            ''', (user_id, username, first_name, user_id, now, now))
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–æ–≤—ã–π –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
            cursor.execute('SELECT registration_date FROM users WHERE user_id = ?', (user_id,))
            reg_date = cursor.fetchone()[0]
            is_new_user = reg_date == now
            
            conn.commit()
            conn.close()
            
            if is_new_user:
                welcome_msg = f"üéâ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {first_name}!\n\n–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –±–æ—Ç–µ."
            else:
                welcome_msg = f"üëã –° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {first_name}!"
            
            esybot_set('welcome_message', welcome_msg)
    }
    
    send $welcome_message
    send "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:" keyboard=main_menu
}

# –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
on_callback profile_btn {
    python {
        user_id = locals().get('user_id')
        
        conn = sqlite3.connect('advanced_bot.db')
        cursor = conn.cursor()
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        cursor.execute('''
            SELECT username, first_name, registration_date, message_count
            FROM users WHERE user_id = ?
        ''', (user_id,))
        
        user_data = cursor.fetchone()
        if user_data:
            username, first_name, reg_date, msg_count = user_data
            reg_date_formatted = datetime.fromisoformat(reg_date).strftime("%d.%m.%Y %H:%M")
            
            profile_text = f"""
üë§ **–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å**

üìù **–ò–º—è:** {first_name}
üè∑Ô∏è **Username:** @{username if username else '–Ω–µ —É–∫–∞–∑–∞–Ω'}
üìÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** {reg_date_formatted}
üí¨ **–°–æ–æ–±—â–µ–Ω–∏–π:** {msg_count}
üÜî **ID:** `{user_id}`

_–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏_
            """
        else:
            profile_text = "‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è"
        
        esybot_set('profile_info', profile_text.strip())
        conn.close()
    }
    
    edit $profile_info parse_mode="Markdown"
    answer_callback "–ü—Ä–æ—Ñ–∏–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω!"
}

# –ü–æ–≥–æ–¥–∞
on_callback weather_btn {
    python {
        import requests
        
        api_key = esybot_get('weather_api_key')
        city = "Moscow"  # –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º
        
        if api_key and api_key != "YOUR_WEATHER_API_KEY":
            url = f"http://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}&units=metric&lang=ru"
            
            try:
                response = requests.get(url)
                data = response.json()
                
                if response.status_code == 200:
                    temp = data['main']['temp']
                    feels_like = data['main']['feels_like']
                    description = data['weather'][0]['description']
                    humidity = data['main']['humidity']
                    pressure = data['main']['pressure']
                    
                    weather_text = f"""
üå§Ô∏è **–ü–æ–≥–æ–¥–∞ –≤ {city}**

üå°Ô∏è **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** {temp}¬∞C (–æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ {feels_like}¬∞C)
‚òÅÔ∏è **–û–ø–∏—Å–∞–Ω–∏–µ:** {description.capitalize()}
üíß **–í–ª–∞–∂–Ω–æ—Å—Ç—å:** {humidity}%
üìä **–î–∞–≤–ª–µ–Ω–∏–µ:** {pressure} –≥–ü–∞

_–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ_
                    """
                else:
                    weather_text = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ"
            except Exception as e:
                weather_text = f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: {str(e)}"
        else:
            weather_text = "‚öôÔ∏è –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–≥–æ–¥–æ–π –Ω—É–∂–µ–Ω API –∫–ª—é—á –æ—Ç OpenWeatherMap"
        
        esybot_set('weather_info', weather_text.strip())
    }
    
    edit $weather_info parse_mode="Markdown"
    answer_callback "–ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!"
}

# –ò–≥—Ä—ã
on_callback games_btn {
    edit "üéÆ **–ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞**\n\n–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É:" parse_mode="Markdown" keyboard=games_menu
    answer_callback "–ò–≥—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã!"
}

# –ò–≥—Ä–∞ "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ"
on_callback guess_game_btn {
    python {
        import random
        secret_number = random.randint(1, 100)
        esybot_set('secret_number', secret_number)
        esybot_set('attempts', 0)
        esybot_set('max_attempts', 7)
        
        game_text = f"""
üé≤ **–ò–≥—Ä–∞ "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ"**

–Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100.
–£ –≤–∞—Å –µ—Å—Ç—å {esybot_get('max_attempts')} –ø–æ–ø—ã—Ç–æ–∫!

–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
        """
        esybot_set('game_message', game_text.strip())
    }
    
    edit $game_message parse_mode="Markdown"
    set_state guessing_game
    answer_callback "–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!"
}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä—ã "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ"
on_message {
    if $state == "guessing_game" {
        python {
            user_guess = locals().get('text', '').strip()
            
            try:
                guess = int(user_guess)
                secret = esybot_get('secret_number')
                attempts = esybot_get('attempts', 0) + 1
                max_attempts = esybot_get('max_attempts', 7)
                
                esybot_set('attempts', attempts)
                
                if guess == secret:
                    result_msg = f"üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ {secret} –∑–∞ {attempts} –ø–æ–ø—ã—Ç–æ–∫!"
                    esybot_set('game_over', True)
                elif attempts >= max_attempts:
                    result_msg = f"üòî –ü–æ–ø—ã—Ç–∫–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±—ã–ª–æ {secret}"
                    esybot_set('game_over', True)
                elif guess  ?', (yesterday,))
            active_users = cursor.fetchone()[0]
            
            admin_stats = f"""
üëë **–ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨**

üìä **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
üë• –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {total_users}
üí¨ –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: {total_messages}
üü¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞ 24—á: {active_users}

ü§ñ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:**
üì¶ –í–µ—Ä—Å–∏—è: {esybot_get('bot_version')}
üóÑÔ∏è –ë–î: {'‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∞' if esybot_get('db_initialized') else '‚ùå –û—à–∏–±–∫–∞'}

_–û–±–Ω–æ–≤–ª–µ–Ω–æ: {datetime.now().strftime('%d.%m.%Y %H:%M')}_
            """
            
            esybot_set('admin_panel', admin_stats.strip())
            conn.close()
        }
        
        send $admin_panel parse_mode="Markdown"
    }
    
    if $user_id != $admin_id {
        send "‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏"
    }
}

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
on_message {
    python {
        user_id = locals().get('user_id')
        message_text = locals().get('text', '')
        now = datetime.now().isoformat()
        
        if message_text:  # –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            conn = sqlite3.connect('advanced_bot.db')
            cursor = conn.cursor()
            
            # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            cursor.execute('''
                INSERT INTO messages (user_id, message_text, timestamp)
                VALUES (?, ?, ?)
            ''', (user_id, message_text, now))
            
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            cursor.execute('''
                UPDATE users SET message_count = message_count + 1, last_activity = ?
                WHERE user_id = ?
            ''', (now, user_id))
            
            conn.commit()
            conn.close()
    }
}
                

                üõçÔ∏è –ë–æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞
                –ü—Ä–∏–º–µ—Ä –±–æ—Ç–∞ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤:
                
                
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    # –ë–æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞
bot_token "YOUR_BOT_TOKEN"
bot_name "ShopBot"

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
python {
    # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
    products = {
        "laptop": {
            "name": "üíª –ù–æ—É—Ç–±—É–∫ Gaming Pro",
            "price": 85000,
            "description": "–ú–æ—â–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π –Ω–æ—É—Ç–±—É–∫ —Å RTX 4060",
            "image": "https://example.com/laptop.jpg",
            "stock": 5
        },
        "phone": {
            "name": "üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω Ultra",
            "price": 45000,
            "description": "–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å –æ—Ç–ª–∏—á–Ω–æ–π –∫–∞–º–µ—Ä–æ–π",
            "image": "https://example.com/phone.jpg", 
            "stock": 12
        },
        "headphones": {
            "name": "üéß –ù–∞—É—à–Ω–∏–∫–∏ Premium",
            "price": 15000,
            "description": "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º",
            "image": "https://example.com/headphones.jpg",
            "stock": 20
        }
    }
    
    esybot_set('products', products)
    esybot_set('cart', {})  # –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –º–∞–≥–∞–∑–∏–Ω–∞
menu shop_menu {
    button "üõçÔ∏è –ö–∞—Ç–∞–ª–æ–≥" catalog_btn
    button "üõí –ö–æ—Ä–∑–∏–Ω–∞" cart_btn
    button "üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞" support_btn new_row=true
    button "‚ÑπÔ∏è –û –º–∞–≥–∞–∑–∏–Ω–µ" about_shop_btn
}

# –ú–µ–Ω—é –∫–∞—Ç–∞–ª–æ–≥–∞
menu catalog_menu {
    button "üíª –ù–æ—É—Ç–±—É–∫–∏" laptops_btn
    button "üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã" phones_btn
    button "üéß –ù–∞—É—à–Ω–∏–∫–∏" headphones_btn new_row=true
    button "‚óÄÔ∏è –ù–∞–∑–∞–¥" back_to_shop_btn
}

on_start {
    send """
üõçÔ∏è **–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω!**

–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É –ø–æ –≤—ã–≥–æ–¥–Ω—ã–º —Ü–µ–Ω–∞–º.

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ–∫—É–ø–æ–∫:
    """ parse_mode="Markdown" keyboard=shop_menu
}

# –ü–æ–∫–∞–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
on_callback catalog_btn {
    edit """
üì¶ **–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤**

–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:
‚Ä¢ üíª –ù–æ—É—Ç–±—É–∫–∏ - –º–æ—â–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –∏–≥—Ä
‚Ä¢ üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–º–∞–Ω—ã
‚Ä¢ üéß –ù–∞—É—à–Ω–∏–∫–∏ - –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–≤—É–∫

_–í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏!_
    """ parse_mode="Markdown" keyboard=catalog_menu
    answer_callback "–ö–∞—Ç–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∂–µ–Ω!"
}

# –ü–æ–∫–∞–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
on_callback laptops_btn {
    python {
        products = esybot_get('products')
        laptop = products['laptop']
        
        product_text = f"""
{laptop['name']}

üí∞ **–¶–µ–Ω–∞:** {laptop['price']:,} ‚ÇΩ
üìù **–û–ø–∏—Å–∞–Ω–∏–µ:** {laptop['description']}
üì¶ **–í –Ω–∞–ª–∏—á–∏–∏:** {laptop['stock']} —à—Ç.

_–î–ª—è –∑–∞–∫–∞–∑–∞ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í –∫–æ—Ä–∑–∏–Ω—É"_
        """
        esybot_set('current_product', 'laptop')
        esybot_set('product_info', product_text.strip())
    }
    
    # –ú–µ–Ω—é —Ç–æ–≤–∞—Ä–∞
    menu product_menu {
        button "üõí –í –∫–æ—Ä–∑–∏–Ω—É" add_to_cart_btn
        button "üìã –ü–æ–¥—Ä–æ–±–Ω–µ–µ" details_btn
        button "‚óÄÔ∏è –ö –∫–∞—Ç–∞–ª–æ–≥—É" back_to_catalog_btn
    }
    
    edit $product_info parse_mode="Markdown" keyboard=product_menu
    answer_callback "–¢–æ–≤–∞—Ä –∑–∞–≥—Ä—É–∂–µ–Ω!"
}

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
on_callback add_to_cart_btn {
    python {
                current_product = esybot_get('current_product')
        products = esybot_get('products')
        cart = esybot_get('cart', {})
        user_id = str(locals().get('user_id', 'unknown'))
        
        if current_product and current_product in products:
            product = products[current_product]
            
            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if user_id not in cart:
                cart[user_id] = {}
            
            # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
            if current_product in cart[user_id]:
                cart[user_id][current_product] += 1
            else:
                cart[user_id][current_product] = 1
            
            esybot_set('cart', cart)
            
            # –ü–æ–¥—Å—á—ë—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–æ—Ä–∑–∏–Ω—ã
            total = 0
            items_count = 0
            for item_id, quantity in cart[user_id].items():
                if item_id in products:
                    total += products[item_id]['price'] * quantity
                    items_count += quantity
            
            esybot_set('cart_total', total)
            esybot_set('cart_items', items_count)
            
            success_msg = f"‚úÖ {product['name']} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!\n\nüõí –í –∫–æ—Ä–∑–∏–Ω–µ: {items_count} —Ç–æ–≤–∞—Ä–æ–≤\nüí∞ –°—É–º–º–∞: {total:,} ‚ÇΩ"
            esybot_set('add_success', success_msg)
    }
    
    edit $add_success parse_mode="Markdown"
    answer_callback "–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω!"
}

# –ü–æ–∫–∞–∑ –∫–æ—Ä–∑–∏–Ω—ã
on_callback cart_btn {
    python {
        cart = esybot_get('cart', {})
        products = esybot_get('products')
        user_id = str(locals().get('user_id', 'unknown'))
        
        if user_id in cart and cart[user_id]:
            cart_text = "üõí **–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞:**\n\n"
            total = 0
            
            for item_id, quantity in cart[user_id].items():
                if item_id in products:
                    product = products[item_id]
                    subtotal = product['price'] * quantity
                    total += subtotal
                    cart_text += f"‚Ä¢ {product['name']}\n"
                    cart_text += f"  –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {quantity} —à—Ç.\n"
                    cart_text += f"  –°—Ç–æ–∏–º–æ—Å—Ç—å: {subtotal:,} ‚ÇΩ\n\n"
            
            cart_text += f"üí∞ **–ò—Ç–æ–≥–æ: {total:,} ‚ÇΩ**"
            esybot_set('cart_display', cart_text)
            esybot_set('has_items', True)
        else:
            esybot_set('cart_display', "üõí **–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞**\n\n–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞!")
            esybot_set('has_items', False)
    }
    
    # –ú–µ–Ω—é –∫–æ—Ä–∑–∏–Ω—ã
    menu cart_menu {
        button "üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑" checkout_btn
        button "üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É" clear_cart_btn  
        button "‚óÄÔ∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏" back_to_shop_btn
    }
    
    if $has_items == true {
        edit $cart_display parse_mode="Markdown" keyboard=cart_menu
    }
    if $has_items == false {
        edit $cart_display parse_mode="Markdown" keyboard=shop_menu
    }
    
    answer_callback "–ö–æ—Ä–∑–∏–Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!"
}

# –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
on_callback checkout_btn {
    edit """
üí≥ **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞**

–î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏:
1Ô∏è‚É£ –£–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏
3Ô∏è‚É£ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–∫–∞–∑

–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
`–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤, +7 900 123 45 67`
    """ parse_mode="Markdown"
    
    set_state waiting_contact_info
    answer_callback "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞"
}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
on_message {
    if $state == "waiting_contact_info" {
        python {
            contact_info = locals().get('text', '').strip()
            esybot_set('customer_info', contact_info)
            
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∑–∞–∫–∞–∑–∞
            import random
            order_number = f"ESY{random.randint(10000, 99999)}"
            esybot_set('order_number', order_number)
            
            # –†–∞—Å—á—ë—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
            cart = esybot_get('cart', {})
            products = esybot_get('products')
            user_id = str(locals().get('user_id', 'unknown'))
            
            total = 0
            if user_id in cart:
                for item_id, quantity in cart[user_id].items():
                    if item_id in products:
                        total += products[item_id]['price'] * quantity
            
            confirmation_text = f"""
‚úÖ **–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!**

üìã **–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:** {order_number}
üë§ **–ü–æ–∫—É–ø–∞—Ç–µ–ª—å:** {contact_info}
üí∞ **–°—É–º–º–∞:** {total:,} ‚ÇΩ

üì¶ **–î–æ—Å—Ç–∞–≤–∫–∞:** 2-3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è
üí≥ **–û–ø–ª–∞—Ç–∞:** –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏

–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É! –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞.
            """
            
            esybot_set('order_confirmation', confirmation_text.strip())
            
            # –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ—Å–ª–µ –∑–∞–∫–∞–∑–∞
            if user_id in cart:
                del cart[user_id]
                esybot_set('cart', cart)
        }
        
        reply $order_confirmation parse_mode="Markdown"
        send "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞–≥–∞–∑–∏–Ω:" keyboard=shop_menu
        clear_state
    }
}</code></pre>
                </div>

                <h2 data-lang="examples.survey_bot">üìä –ë–æ—Ç-–æ–ø—Ä–æ—Å–Ω–∏–∫</h2>
                <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–æ–≤ –∏ –∞–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
                
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-esybot"># –ë–æ—Ç –¥–ª—è –æ–ø—Ä–æ—Å–æ–≤ –∏ –∞–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
bot_token "YOUR_BOT_TOKEN"
bot_name "SurveyBot"

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø—Ä–æ—Å–∞
set current_question 0
set total_questions 5

# –í–æ–ø—Ä–æ—Å—ã –æ–ø—Ä–æ—Å–∞
python {
    survey_questions = [
        {
            "question": "–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?",
            "type": "text",
            "field": "name"
        },
        {
            "question": "–°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç?",
            "type": "number",
            "field": "age"
        },
        {
            "question": "–ö–∞–∫–æ–π –≤–∞—à –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?",
            "type": "choice",
            "field": "color",
            "options": ["üî¥ –ö—Ä–∞—Å–Ω—ã–π", "üîµ –°–∏–Ω–∏–π", "üü¢ –ó–µ–ª—ë–Ω—ã–π", "üü° –ñ—ë–ª—Ç—ã–π"]
        },
        {
            "question": "–û—Ü–µ–Ω–∏—Ç–µ –Ω–∞—à —Å–µ—Ä–≤–∏—Å –æ—Ç 1 –¥–æ 5",
            "type": "rating",
            "field": "rating"
        },
        {
            "question": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:",
            "type": "text",
            "field": "comments"
        }
    ]
    
    esybot_set('survey_questions', survey_questions)
    esybot_set('survey_data', {})
}

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
menu main_survey_menu {
    button "üìù –ù–∞—á–∞—Ç—å –æ–ø—Ä–æ—Å" start_survey_btn
    button "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" survey_stats_btn
    button "‚ÑπÔ∏è –û –æ–ø—Ä–æ—Å–µ" survey_info_btn
}

on_start {
    send """
üìã **–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ–ø—Ä–æ—Å!**

–ü–æ–º–æ–≥–∏—Ç–µ –Ω–∞–º —Å—Ç–∞—Ç—å –ª—É—á—à–µ, –æ—Ç–≤–µ—Ç–∏–≤ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤.
–û–ø—Ä–æ—Å –∑–∞–π–º—ë—Ç –Ω–µ –±–æ–ª–µ–µ 3 –º–∏–Ω—É—Ç.

üéÅ **–ó–∞ —É—á–∞—Å—Ç–∏–µ:** —Å–∫–∏–¥–∫–∞ 10% –Ω–∞ –Ω–∞—à–∏ —É—Å–ª—É–≥–∏!
    """ parse_mode="Markdown" keyboard=main_survey_menu
}

# –ù–∞—á–∞–ª–æ –æ–ø—Ä–æ—Å–∞
on_callback start_survey_btn {
    set current_question 0
    python {
        questions = esybot_get('survey_questions')
        current_q = esybot_get('current_question', 0)
        
        if current_q < len(questions):
            question_data = questions[current_q]
            question_text = f"""
üìù **–û–ø—Ä–æ—Å ({current_q + 1}/{len(questions)})**

{question_data['question']}
            """
            
            esybot_set('current_question_text', question_text.strip())
            esybot_set('current_question_type', question_data['type'])
            esybot_set('current_question_field', question_data['field'])
            
            # –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
            if question_data['type'] == 'choice':
                esybot_set('question_options', question_data.get('options', []))
            else:
                esybot_set('question_options', [])
    }
    
    # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞ —Å –≤—ã–±–æ—Ä–æ–º
    if $current_question_type == "choice" {
        python {
            options = esybot_get('question_options', [])
            # –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –º–µ–Ω—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
            # –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞
        }
        edit $current_question_text parse_mode="Markdown"
        send "–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:"
        python {
            options = esybot_get('question_options', [])
            for i, option in enumerate(options):
                esybot_set(f'option_{i}', option)
        }
    }
    
    if $current_question_type != "choice" {
        edit $current_question_text parse_mode="Markdown"
    }
    
    set_state survey_in_progress
    answer_callback "–û–ø—Ä–æ—Å –Ω–∞—á–∞—Ç!"
}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
on_message {
    if $state == "survey_in_progress" {
        python {
            user_answer = locals().get('text', '').strip()
            current_q = esybot_get('current_question', 0)
            questions = esybot_get('survey_questions')
            survey_data = esybot_get('survey_data', {})
            user_id = str(locals().get('user_id', 'unknown'))
            
            if user_id not in survey_data:
                survey_data[user_id] = {}
            
            # –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            is_valid = True
            error_msg = ""
            
            if current_q < len(questions):
                question = questions[current_q]
                field = question['field']
                q_type = question['type']
                
                if q_type == 'number':
                    try:
                        answer_value = int(user_answer)
                        if answer_value < 0:
                            is_valid = False
                            error_msg = "‚ùå –í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ"
                    except ValueError:
                        is_valid = False
                        error_msg = "‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ"
                        answer_value = user_answer
                elif q_type == 'rating':
                    try:
                        answer_value = int(user_answer)
                        if answer_value < 1 or answer_value > 5:
                            is_valid = False
                            error_msg = "‚ùå –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5"
                    except ValueError:
                        is_valid = False
                        error_msg = "‚ùå –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5"
                        answer_value = user_answer
                else:
                    answer_value = user_answer
                    if len(answer_value) < 1:
                        is_valid = False
                        error_msg = "‚ùå –û—Ç–≤–µ—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º"
                
                if is_valid:
                    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
                    survey_data[user_id][field] = answer_value
                    esybot_set('survey_data', survey_data)
                    
                    # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
                    next_q = current_q + 1
                    esybot_set('current_question', next_q)
                    
                    if next_q < len(questions):
                        # –ü–æ–∫–∞–∑ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
                        next_question = questions[next_q]
                        question_text = f"""
üìù **–û–ø—Ä–æ—Å ({next_q + 1}/{len(questions)})**

{next_question['question']}
                        """
                        esybot_set('next_question_text', question_text.strip())
                        esybot_set('survey_continues', True)
                    else:
                        # –û–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à—ë–Ω
                        esybot_set('survey_continues', False)
                        
                        # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                        result_text = f"""
üéâ **–°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –æ–ø—Ä–æ—Å–µ!**

üìã **–í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã:**
üë§ –ò–º—è: {survey_data[user_id].get('name', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}
üéÇ –í–æ–∑—Ä–∞—Å—Ç: {survey_data[user_id].get('age', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}
üé® –¶–≤–µ—Ç: {survey_data[user_id].get('color', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}
‚≠ê –û—Ü–µ–Ω–∫–∞: {survey_data[user_id].get('rating', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}/5
üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {survey_data[user_id].get('comments', '–ù–µ—Ç')}

üéÅ **–í–∞—à –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ —Å–∫–∏–¥–∫—É 10%:** SURVEY2024
                        """
                        esybot_set('survey_result', result_text.strip())
                else:
                    esybot_set('validation_error', error_msg)
                    esybot_set('survey_continues', True)
        }
        
        if $validation_error {
            reply $validation_error
            send "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑:"
        }
        
        if $survey_continues == true and not $validation_error {
            reply "‚úÖ –û—Ç–≤–µ—Ç –ø—Ä–∏–Ω—è—Ç!"
            send $next_question_text parse_mode="Markdown"
        }
        
        if $survey_continues == false {
            reply $survey_result parse_mode="Markdown"
            send "–°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ!" keyboard=main_survey_menu
            clear_state
        }
        
        # –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
        set validation_error ""
    }
}</code></pre>
                </div>

                <div class="alert alert-success">
                    <strong>üéØ –ò—Ç–æ–≥–∏ —Ä–∞–∑–¥–µ–ª–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏:</strong><br>
                    –≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ESYBOT –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –±–æ—Ç–æ–≤ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-—Ä–µ—à–µ–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤!
                </div>
            </div>

            <!-- API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ -->
            <div class="page" id="api">
                <h1 data-lang="api.title">API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h1>
                <p class="lead" data-lang="api.description">
                    –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º, –º–µ—Ç–æ–¥–∞–º –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ ESYBOT.
                </p>

                <h2 data-lang="api.interpreter">üîß –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä</h2>
                
                <h3>–ö–ª–∞—Å—Å ESYBOTInterpreter</h3>
                <p>–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ ESYBOT:</p>
                
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-python">class ESYBOTInterpreter:
    """–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —è–∑—ã–∫–∞ ESYBOT"""
    
    def __init__(self):
        self.bot: Optional[Bot] = None
        self.dp: Optional[Dispatcher] = None
        self.token: str = ""
        self.commands: List[ESYBOTCommand] = []
        self.variables: Dict[str, Any] = {}
        self.python_globals: Dict[str, Any] = {}
        
    def parse_file(self, filename: str) -> bool:
        """–ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞ ESYBOT"""
        
    async def run(self) -> None:
        """–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ –∏ –±–æ—Ç–∞"""</code></pre>
                </div>

                <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>–ú–µ—Ç–æ–¥</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</th>
                                <th>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>parse_file(filename)</code></td>
                                <td>–ü–∞—Ä—Å–∏—Ç —Ñ–∞–π–ª ESYBOT</td>
                                <td><code>filename: str</code></td>
                                <td><code>bool</code></td>
                            </tr>
                            <tr>
                                <td><code>run()</code></td>
                                <td>–ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞</td>
                                <td>–ù–µ—Ç</td>
                                <td><code>None</code></td>
                            </tr>
                            <tr>
                                <td><code>_resolve_variables(text, context)</code></td>
                                <td>–†–∞–∑—Ä–µ—à–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–µ</td>
                                <td><code>text: str, context: dict</code></td>
                                <td><code>str</code></td>
                            </tr>
                            <tr>
                                <td><code>_execute_command(cmd)</code></td>
                                <td>–í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É ESYBOT</td>
                                <td><code>cmd: ESYBOTCommand</code></td>
                                <td><code>None</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 data-lang="api.commands">üìú –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∞–Ω–¥</h2>
                
                <h3>–ö–ª–∞—Å—Å ESYBOTCommand</h3>
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-python">@dataclass
class ESYBOTCommand:
    """–ö–æ–º–∞–Ω–¥–∞ —è–∑—ã–∫–∞ ESYBOT"""
    type: CommandType
    name: str
    args: List[str]
    kwargs: Dict[str, Any] = field(default_factory=dict)
    line_number: int = 0
    raw_line: str = ""
    block_content: List['ESYBOTCommand'] = field(default_factory=list)
    python_code: str = ""</code></pre>
                </div>

                <h3>–¢–∏–ø—ã –∫–æ–º–∞–Ω–¥ (CommandType)</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>–¢–∏–ø</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>BOT_CONFIG</code></td>
                                <td>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞</td>
                                <td>bot_token, bot_name</td>
                            </tr>
                            <tr>
                                <td><code>HANDLER</code></td>
                                <td>–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</td>
                                <td>on_start, on_message</td>
                            </tr>
                            <tr>
                                <td><code>RESPONSE</code></td>
                                <td>–û—Ç–≤–µ—Ç—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è</td>
                                <td>send, reply, edit</td>
                            </tr>
                            <tr>
                                <td><code>VARIABLE</code></td>
                                <td>–†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏</td>
                                <td>set, get, increment</td>
                            </tr>
                            <tr>
                                <td><code>PYTHON_CODE</code></td>
                                <td>Python –±–ª–æ–∫–∏</td>
                                <td>python</td>
                            </tr>
                            <tr>
                                <td><code>CONDITION</code></td>
                                <td>–£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</td>
                                <td>if, else</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 data-lang="api.contexts">üîÑ –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</h2>
                <p>–ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:</p>
                
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-python"># –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
context = {
    'update': update,           # –û–±—ä–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Telegram
    'state': state,            # FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    'bot': self.bot,           # –≠–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞
    'user_id': update.from_user.id,
    'chat_id': update.chat.id,
    'text': update.text or '',
    'photo': update.photo or [],
    'message': update,
    # ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
}</code></pre>
                </div>

                <h3>–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è</th>
                                <th>–¢–∏–ø</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>$user_id</code></td>
                                <td>int</td>
                                <td>ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram</td>
                            </tr>
                            <tr>
                                <td><code>$chat_id</code></td>
                                <td>int</td>
                                <td>ID —á–∞—Ç–∞</td>
                            </tr>
                            <tr>
                                <td><code>$text</code></td>
                                <td>str</td>
                                <td>–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è</td>
                            </tr>
                            <tr>
                                <td><code>$first_name</code></td>
                                <td>str</td>
                                <td>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</td>
                            </tr>
                            <tr>
                                <td><code>$username</code></td>
                                <td>str</td>
                                <td>Username —Å @</td>
                            </tr>
                            <tr>
                                <td><code>$data</code></td>
                                <td>str</td>
                                <td>–î–∞–Ω–Ω—ã–µ callback –∫–Ω–æ–ø–∫–∏</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 data-lang="api.extensions">üîå –†–∞—Å—à–∏—Ä–µ–Ω–∏—è</h2>
                <p>ESYBOT –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ Python –º–æ–¥—É–ª–∏:</p>
                
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-python"># –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ESYBOT
class CustomExtension:
    """–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"""
    
    def __init__(self, interpreter):
        self.interpreter = interpreter
        self.register_commands()
    
    def register_commands(self):
        """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥"""
        self.interpreter.register_command('my_command', self.handle_my_command)
    
    async def handle_my_command(self, cmd, context):
        """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–º–∞–Ω–¥—ã"""
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å
        pass

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
interpreter = ESYBOTInterpreter()
extension = CustomExtension(interpreter)</code></pre>
                </div>

                <h3>–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥</h3>
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-python"># –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
def add_custom_command(self, command_name: str, handler: Callable):
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–º–∞–Ω–¥—ã"""
    self.custom_commands[command_name] = handler

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
async def handle_weather_command(cmd, context):
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ API
    weather_data = await get_weather_api()
    return weather_data

interpreter.add_custom_command('get_weather', handle_weather_command)</code></pre>
                </div>

                <h2 data-lang="api.debugging">üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-esybot"># –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
python {
    import logging
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    logging.basicConfig(
        level=logging.DEBUG,
        format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
    )
    
    logger = logging.getLogger('ESYBOT')
    logger.info('–û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω')
    
    # –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    def debug_vars():
        vars_info = "üîç –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ESYBOT:\n"
        for name, value in esybot_vars.items():
            vars_info += f"‚Ä¢ {name} = {value}\n"
        print(vars_info)
    
    # –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏
    debug_vars()
}</code></pre>
                </div>

                <div class="alert alert-info">
                    <strong>üí° –°–æ–≤–µ—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>print()</code> –≤ Python –±–ª–æ–∫–∞—Ö –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ - –≤—ã–≤–æ–¥ –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞.
                </div>

                <h3>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h3>
                <div class="example-container">
                    <button class="copy-btn" onclick="copyCode(this)">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <pre><code class="language-python"># –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–µ
async def _execute_command(self, cmd: ESYBOTCommand) -> None:
    """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫"""
    try:
        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
        await self._handle_command(cmd)
    except Exception as e:
        error_msg = f"‚ùå –û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ '{cmd.name}' (—Å—Ç—Ä–æ–∫–∞ {cmd.line_number}): {e}"
        print(error_msg)
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ
        import traceback
        traceback.print_exc()
        
        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
        if hasattr(self, 'admin_chat_id'):
            await self.bot.send_message(
                chat_id=self.admin_chat_id,
                text=f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ –±–æ—Ç–µ:\n{error_msg}"
            )</code></pre>
                </div>

                <div class="alert alert-success">
                    <strong>üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:</strong> –≠—Ç–æ—Ç API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≥–ª—É–±–∂–µ –ø–æ–Ω—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ESYBOT –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è. –£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!
                </div>
            </div>
        </div>
    </main>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let currentLanguage = 'ru';
        let currentPage = 'home';
        
        // –ü–µ—Ä–µ–≤–æ–¥—ã
        const translations = {
            ru: {
                "nav.home": "–ì–ª–∞–≤–Ω–∞—è",
                "nav.getting_started": "–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã", 
                "nav.documentation": "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è",
                "nav.syntax": "–°–∏–Ω—Ç–∞–∫—Å–∏—Å",
                "nav.commands": "–ö–æ–º–∞–Ω–¥—ã",
                "nav.python_integration": "Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",
                "nav.examples": "–ü—Ä–∏–º–µ—Ä—ã",
                "nav.reference": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫",
                "nav.api": "API",
                "home.hero_subtitle": "–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π —è–∑—ã–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤",
                "home.hero_description": "ESYBOT —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ—â–Ω—ã—Ö Telegram –±–æ—Ç–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Python, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π aiogram –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º.",
                "home.quick_start": "üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç",
                "home.view_examples": "üìö –ü—Ä–∏–º–µ—Ä—ã",
                "home.features.title": "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ESYBOT",
                "home.features.simple_syntax.title": "–ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å",
                "home.features.simple_syntax.description": "–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ –±–µ–∑ –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ API",
                "home.features.python_integration.title": "Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",
                "home.features.python_integration.description": "–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Python –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ ESYBOT —Å –æ–±–º–µ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏",
                "home.features.aiogram_support.title": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ aiogram",
                "home.features.aiogram_support.description": "–í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ aiogram 3.x –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏",
                "home.features.extensible.title": "–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å",
                "home.features.extensible.description": "–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏",
                "home.quick_example.title": "–ë—ã—Å—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä",
                "home.quick_example.description": "–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç:",
                "getting_started.title": "–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å ESYBOT",
                "getting_started.description": "–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ ESYBOT –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ Telegram –±–æ—Ç–∞.",
                "syntax.title": "–°–∏–Ω—Ç–∞–∫—Å–∏—Å ESYBOT",
                "syntax.description": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —è–∑—ã–∫–∞ ESYBOT —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.",
                "commands.title": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥",
                "commands.description": "–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ ESYBOT —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.",
                "python_integration.title": "Python –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",
                "python_integration.description": "–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Python –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ ESYBOT —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ—â–Ω—ã—Ö –∏ –≥–∏–±–∫–∏—Ö –±–æ—Ç–æ–≤.",
                "examples.title": "–ü—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤",
                "examples.description": "–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤ –Ω–∞ ESYBOT –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á - –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.",
                "api.title": "API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫",
                "api.description": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º, –º–µ—Ç–æ–¥–∞–º –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ ESYBOT."
            },
            en: {
                "nav.home": "Home",
                "nav.getting_started": "Getting Started",
                "nav.documentation": "Documentation", 
                "nav.syntax": "Syntax",
                "nav.commands": "Commands",
                "nav.python_integration": "Python Integration",
                "nav.examples": "Examples",
                "nav.reference": "Reference",
                "nav.api": "API",
                "home.hero_subtitle": "Revolutionary Language for Telegram Bot Development",
                "home.hero_description": "ESYBOT simplifies creating powerful Telegram bots with Python integration, full aiogram support, and intuitive syntax.",
                "home.quick_start": "üöÄ Quick Start",
                "home.view_examples": "üìö Examples",
                "home.features.title": "ESYBOT Features",
                "home.features.simple_syntax.title": "Simple Syntax",
                "home.features.simple_syntax.description": "Intuitive commands for rapid bot development without learning complex APIs",
                "home.features.python_integration.title": "Python Integration",
                "home.features.python_integration.description": "Full Python code support within ESYBOT with variable sharing",
                "home.features.aiogram_support.title": "aiogram Support",
                "home.features.aiogram_support.description": "All aiogram 3.x features available out of the box",
                "home.features.extensible.title": "Extensible",
                "home.features.extensible.description": "Easily add new features and integrate with external services",
                "home.quick_example.title": "Quick Example",
                "home.quick_example.description": "Create your first bot in minutes:",
                "getting_started.title": "Getting Started with ESYBOT",
                "getting_started.description": "Step-by-step guide to installing and setting up ESYBOT to create your first Telegram bot.",
                "syntax.title": "ESYBOT Syntax",
                "syntax.description": "Complete description of ESYBOT language syntax and structure with usage examples.",
                "commands.title": "Commands Reference", 
                "commands.description": "Complete list of all ESYBOT commands with descriptions, parameters, and usage examples.",
                "python_integration.title": "Python Integration",
                "python_integration.description": "Complete guide to using Python code within ESYBOT scripts for creating powerful and flexible bots.",
                "examples.title": "Bot Examples",
                "examples.description": "Ready-to-use ESYBOT bot examples for various tasks - from simple to complex projects.",
                "api.title": "API Reference",
                "api.description": "Technical documentation for all ESYBOT interpreter functions, methods, and internal architecture."
            }
        };
        
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
        function translate(key) {
            return translations[currentLanguage][key] || key;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        function updateTranslations() {
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.getAttribute('data-lang');
                element.textContent = translate(key);
            });
        }
        
        // –°–º–µ–Ω–∞ —è–∑—ã–∫–∞
        function setLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —è–∑—ã–∫–∞
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('lang' + lang.charAt(0).toUpperCase() + lang.slice(1)).classList.add('active');
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
            updateTranslations();
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
            localStorage.setItem('esybot-lang', lang);
        }
        
        // –ü–æ–∫–∞–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function showPage(pageId) {
            // –°–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                currentPage = pageId;
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            setTimeout(() => {
                if (typeof hljs !== 'undefined') {
                    hljs.highlightAll();
                }
            }, 100);
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const main = document.getElementById('main');
            
            sidebar.classList.toggle('open');
            main.classList.toggle('expanded');
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
        function copyCode(button) {
            const codeBlock = button.nextElementSibling.querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                button.style.background = 'var(--accent)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            });
        }
        
        // –ü–æ–∏—Å–∫
        function initSearch() {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
                console.log('–ü–æ–∏—Å–∫:', query);
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ localStorage
            const savedLang = localStorage.getItem('esybot-lang') || 'ru';
            setLanguage(savedLang);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
            initSearch();
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
            if (typeof hljs !== 'undefined') {
                hljs.highlightAll();
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', (e) => {
                const sidebar = document.getElementById('sidebar');
                const menuBtn = document.querySelector('.mobile-menu-btn');
                
                if (window.innerWidth <= 768 && 
                    !sidebar.contains(e.target) && 
                    !menuBtn.contains(e.target)) {
                    sidebar.classList.remove('open');
                }
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            const sidebar = document.getElementById('sidebar');
            const main = document.getElementById('main');
            
            if (window.innerWidth > 768) {
                sidebar.classList.remove('open');
                main.classList.remove('expanded');
            }
        });
    </script>
</body>
</html>
